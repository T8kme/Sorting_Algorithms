// ---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "SortingAlgorithms.h"
#include "Table.h"

// ---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm2 *Form2;

void compress_spaces(char *s) {  // remove all spaces from array
    char* cpy = s;  // an alias to iterate through s without moving s
    char* temp = s;

    while (*cpy)
    {
        if (*cpy != ' ')
            *temp++ = *cpy;
        cpy++;
    }
    *temp = 0;

	cout << s << endl; // This prints out the desired result: abbcccd
}

// ---------------------------------------------------------------------------
__fastcall TForm2::TForm2(TComponent* Owner) : TForm(Owner) {
}

// ---------------------------------------------------------------------------
void __fastcall TForm2::Exit1Click(TObject *Sender) {
	Application->Terminate();
}

// ---------------------------------------------------------------------------
void __fastcall TForm2::btnStartClick(TObject *Sender) {

	int commas = 0;

	// first convert to AnsiString instead of Unicode.
	AnsiString ansiB(EditUnsorted->Text);

	// allocate enough memory for your char array (and the null terminator)
	char* str = new char[ansiB.Length() + 1];

	// copy the contents of the AnsiString into your char array
	strcpy(str, ansiB.c_str());

	compress_spaces(str); // remove all spaces from array

	//

	for (int i = 0; i < ansiB.Length()+1; i++) {
		if (str[i] = ',') {
			commas++;
		}
	}

	int array_size = ansiB.Length() + 1 - commas;
	char* str2 = new char[array_size];

	while(!array_size) {

    }

	//

	EditSorted->Text = str;

	delete[]str;
	delete[]str2;
}

// ---------------------------------------------------------------------------
void __fastcall TForm2::bSaveTimeClick(TObject *Sender) {
	String time = "cz:as";
	int number = ListBoxTime->Items->Count + 1;
	ListBoxTime->Items->Add((String)number + ". " + time);

}

// ---------------------------------------------------------------------------
void __fastcall TForm2::bClearClick(TObject *Sender) {
	ListBoxTime->Items->Clear();
}
// ---------------------------------------------------------------------------
